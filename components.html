<script type="text/html" id="jobFormTemplate">
  <form id="jobForm" onsubmit="submitJobForm(event)">
    <input type="hidden" id="jobId" name="jobId">
    
    <div class="form-section-title">ğŸ‘¤ ThÃ´ng tin khÃ¡ch hÃ ng</div>
    
    <div class="form-group autocomplete-wrapper">
      <label>TÃªn khÃ¡ch hÃ ng *</label>
      <input type="text" id="customerName" name="customerName" required 
             autocomplete="off" placeholder="Nháº­p tÃªn Ä‘á»ƒ tÃ¬m kiáº¿m..."
             oninput="handleCustomerInput(this)"
             onfocus="handleCustomerInput(this)">
      <input type="hidden" id="customerId" name="customerId">
      <div id="customerAutocomplete" class="autocomplete-results"></div>
    </div>
    
    <div class="form-row">
      <div class="form-group">
        <label>Sá»‘ Ä‘iá»‡n thoáº¡i</label>
        <input type="tel" id="customerPhone" name="customerPhone" placeholder="0901234567">
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" id="customerEmail" name="customerEmail" placeholder="email@example.com">
      </div>
    </div>
    
    <div class="form-section-title">ğŸ“· ThÃ´ng tin Job</div>
    
    <div class="form-row">
      <div class="form-group">
        <label>NgÃ y chá»¥p *</label>
        <input type="datetime-local" id="shootDate" name="shootDate" required>
      </div>
      <div class="form-group">
        <label>Loáº¡i chá»¥p</label>
        <select id="jobType" name="jobType">
          <option value="">-- Chá»n --</option>
        </select>
      </div>
    </div>
    
    <div class="form-group autocomplete-wrapper">
      <label>Äá»‹a Ä‘iá»ƒm</label>
      <input type="text" id="location" name="location" autocomplete="off"
             placeholder="Nháº­p Ä‘á»‹a Ä‘iá»ƒm chá»¥p..."
             onkeyup="searchLocationAutocomplete(this.value)">
      <div id="locationAutocomplete" class="autocomplete-results"></div>
    </div>
    
    <div class="form-section-title">ğŸ’° Thanh toÃ¡n</div>
    
    <div class="form-row">
      <div class="form-group">
        <label>Tá»•ng tiá»n (VNÄ)</label>
        <input type="text" id="totalAmount" name="totalAmount" value="0"
               placeholder="0" inputmode="numeric"
               oninput="formatCurrencyInput(this)" onchange="calculateRemaining()">
      </div>
      <div class="form-group">
        <label>ÄÃ£ thanh toÃ¡n</label>
        <input type="text" id="paidAmount" name="paidAmount" value="0"
               placeholder="0" inputmode="numeric"
               oninput="formatCurrencyInput(this)" onchange="calculateRemaining()">
      </div>
    </div>
    
    <div class="form-group">
      <label>Tráº¡ng thÃ¡i Job</label>
      <select id="jobStatus" name="jobStatus">
        <option value="Chá» chá»¥p">Chá» chá»¥p</option>
        <option value="Äang lÃ m">Äang lÃ m</option>
        <option value="HoÃ n thÃ nh">HoÃ n thÃ nh</option>
        <option value="ÄÃ£ há»§y">ÄÃ£ há»§y</option>
      </select>
    </div>
    
    <div class="form-group">
      <label>Link Google Drive (hÃ¬nh final)</label>
      <input type="url" id="driveLink" name="driveLink" placeholder="https://drive.google.com/...">
    </div>
    
    <div class="form-section-title">ğŸ¤ Partner</div>
    
    <div class="form-group autocomplete-wrapper">
      <label>Partner (náº¿u cÃ³)</label>
      <input type="text" id="partnerName" name="partnerName" autocomplete="off"
             placeholder="Nháº­p tÃªn partner..."
             oninput="handlePartnerInput(this)"
             onfocus="handlePartnerInput(this)">
      <input type="hidden" id="partnerId" name="partnerId">
      <input type="hidden" id="partnerEmail" name="partnerEmail">
      <div id="partnerAutocomplete" class="autocomplete-results"></div>
    </div>
    
    <div class="form-group">
      <label>LÆ°Æ¡ng Partner (cho job nÃ y)</label>
      <input type="text" id="partnerFee" name="partnerFee" value="0" 
             placeholder="0" inputmode="numeric"
             oninput="formatCurrencyInput(this)">
    </div>
    
    <div class="form-group">
      <label>Ghi chÃº</label>
      <textarea id="notes" name="notes" placeholder="Ghi chÃº thÃªm vá» job..."></textarea>
    </div>
    
    <div class="form-actions">
      <button type="button" class="btn btn-secondary" onclick="closeModal()">Há»§y</button>
      <button type="submit" class="btn btn-primary">ğŸ’¾ LÆ°u Job</button>
    </div>
  </form>
</script>

<script type="text/html" id="customerFormTemplate">
  <form id="customerForm" onsubmit="submitCustomerForm(event)">
    <input type="hidden" id="editCustomerId" name="customerId">
    
    <div class="form-group">
      <label>TÃªn khÃ¡ch hÃ ng *</label>
      <input type="text" id="editCustomerName" name="name" required placeholder="Nguyá»…n VÄƒn A">
    </div>
    
    <div class="form-row">
      <div class="form-group">
        <label>Sá»‘ Ä‘iá»‡n thoáº¡i</label>
        <input type="tel" id="editCustomerPhone" name="phone" placeholder="0901234567">
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" id="editCustomerEmail" name="email" placeholder="email@example.com">
      </div>
    </div>
    
    <div class="form-group">
      <label>Äá»‹a chá»‰</label>
      <input type="text" id="editCustomerAddress" name="address" placeholder="Sá»‘ nhÃ , Ä‘Æ°á»ng, quáº­n...">
    </div>
    
    <div class="form-group">
      <label>Ghi chÃº</label>
      <textarea id="editCustomerNotes" name="notes" placeholder="Ghi chÃº vá» khÃ¡ch hÃ ng..."></textarea>
    </div>
    
    <div class="form-actions">
      <button type="button" class="btn btn-secondary" onclick="closeModal()">Há»§y</button>
      <button type="submit" class="btn btn-primary">ğŸ’¾ LÆ°u</button>
    </div>
  </form>
</script>

<script type="text/html" id="partnerFormTemplate">
  <form id="partnerForm" onsubmit="submitPartnerForm(event)">
    <input type="hidden" id="editPartnerId" name="partnerId">
    
    <div class="form-group">
      <label>TÃªn Partner *</label>
      <input type="text" id="editPartnerName" name="name" required placeholder="TÃªn partner">
    </div>
    
    <div class="form-row">
      <div class="form-group">
        <label>Sá»‘ Ä‘iá»‡n thoáº¡i</label>
        <input type="tel" id="editPartnerPhone" name="phone" placeholder="0901234567">
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" id="editPartnerEmail" name="email" placeholder="email@example.com">
      </div>
    </div>
    
    <div class="form-group">
      <label>ChuyÃªn mÃ´n</label>
      <select id="editPartnerSpecialty" name="specialty">
        <option value="">-- Chá»n --</option>
        <option value="Photographer">ğŸ“¸ Photographer</option>
        <option value="Editor">ğŸ–¥ï¸ Editor</option>
        <option value="Assistant">ğŸ™‹ Assistant</option>
        <option value="Makeup">ğŸ’„ Makeup</option>
        <option value="KhÃ¡c">ğŸ“Œ KhÃ¡c</option>
      </select>
    </div>
    
    <div class="form-group">
      <label>Ghi chÃº</label>
      <textarea id="editPartnerNotes" name="notes" placeholder="Ghi chÃº vá» partner..."></textarea>
    </div>
    
    <div class="form-actions">
      <button type="button" class="btn btn-secondary" onclick="closeModal()">Há»§y</button>
      <button type="submit" class="btn btn-primary">ğŸ’¾ LÆ°u</button>
    </div>
  </form>
</script>

<script type="text/html" id="jobDetailTemplate">
  <div class="detail-section">
    <h4>ğŸ‘¤ KhÃ¡ch hÃ ng</h4>
    <div class="detail-row">
      <span class="label">TÃªn</span>
      <span class="value">{customerName}</span>
    </div>
    <div class="detail-row">
      <span class="label">SÄT</span>
      <span class="value"><a href="tel:{customerPhone}">{customerPhone}</a></span>
    </div>
    <div class="detail-row">
      <span class="label">Email</span>
      <span class="value"><a href="mailto:{customerEmail}">{customerEmail}</a></span>
    </div>
  </div>
  
  <div class="detail-section">
    <h4>ğŸ“· ThÃ´ng tin Job</h4>
    <div class="detail-row">
      <span class="label">MÃ£ Job</span>
      <span class="value">{id}</span>
    </div>
    <div class="detail-row">
      <span class="label">NgÃ y chá»¥p</span>
      <span class="value">{shootDate}</span>
    </div>
    <div class="detail-row">
      <span class="label">Äá»‹a Ä‘iá»ƒm</span>
      <span class="value">{location}</span>
    </div>
    <div class="detail-row">
      <span class="label">Loáº¡i chá»¥p</span>
      <span class="value">{jobType}</span>
    </div>
    <div class="detail-row">
      <span class="label">Tráº¡ng thÃ¡i</span>
      <span class="value">{jobStatus}</span>
    </div>
    <div class="detail-row">
      <span class="label">Link Drive</span>
      <span class="value"><a href="{driveLink}" target="_blank">ğŸ“ Xem hÃ¬nh</a></span>
    </div>
  </div>
  
  <div class="detail-section">
    <h4>ğŸ’° Thanh toÃ¡n</h4>
    <div class="detail-row">
      <span class="label">Tá»•ng tiá»n</span>
      <span class="value">{totalAmount}</span>
    </div>
    <div class="detail-row">
      <span class="label">ÄÃ£ thanh toÃ¡n</span>
      <span class="value text-success">{paidAmount}</span>
    </div>
    <div class="detail-row">
      <span class="label">CÃ²n ná»£</span>
      <span class="value text-danger">{remainingAmount}</span>
    </div>
    <div class="detail-row">
      <span class="label">Tráº¡ng thÃ¡i</span>
      <span class="value">{paymentStatus}</span>
    </div>
  </div>
  
  <div class="detail-section">
    <h4>ğŸ¤ Partner</h4>
    <div class="detail-row">
      <span class="label">TÃªn</span>
      <span class="value">{partnerName}</span>
    </div>
    <div class="detail-row">
      <span class="label">LÆ°Æ¡ng</span>
      <span class="value">{partnerFee}</span>
    </div>
  </div>
  
  <div class="detail-section">
    <h4>ğŸ“ Ghi chÃº</h4>
    <p style="color: var(--text-secondary); font-size: 0.875rem;">{notes}</p>
  </div>
  
  <div class="form-actions">
    <button type="button" class="btn btn-danger" onclick="confirmDeleteJob('{id}')">ğŸ—‘ï¸ XÃ³a</button>
    <button type="button" class="btn btn-primary" onclick="editJob('{id}')">âœï¸ Sá»­a</button>
  </div>
</script>
